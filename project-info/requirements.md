
---

# TODOリストアプリケーション 要件定義書

## 1. はじめに

### 1.1. プロジェクト概要

本プロジェクトは、日々のタスク管理を効率化するためのTODOリストアプリケーションを開発する。

### 1.2. 目的

ユーザーが直感的かつ軽快にTODOを管理できるWebアプリケーションを提供し、生産性の向上を支援する。

## 2. 機能要件

### 2.1. TODO管理機能

#### 2.1.1. TODOアイテムの定義

TODOアイテムは以下の情報を持つ。

|        |                 |        |                          |
| ------ | --------------- | ------ | ------------------------ |
| **項目** | **データ型**        | **必須** | **説明**                   |
| ID     | UUID/Integer    | ○      | 一意な識別子                   |
| タイトル   | 文字列             | ○      | TODOの内容を簡潔に示す            |
| 詳細な説明文 | テキスト            | ○      | TODOの詳細な説明               |
| 期日     | 日付 (YYYY-MM-DD) | ○      | TODOの完了目標日               |
| 優先度    | 数値              | ○      | 1: 高, 2: 中, 3: 低         |
| 完了状態   | 真偽値             | ○      | `true`: 完了, `false`: 未完了 |
| 作成日時   | タイムスタンプ         | ○      | TODOが作成された日時             |
| 更新日時   | タイムスタンプ         | ○      | TODOが最後に更新された日時          |

#### 2.1.2. TODOの表示 (一覧)

- 登録されているTODOアイテムを一覧で表示できる。
- デフォルトの表示順序は、「期日が近い順」、次に「優先度順」、次に「作成日時が新しい順」とする。
- ユーザーは表示順序を以下の基準でソートできる。
    - 期日が近い順
    - 優先度順
    - 作成日時が新しい順
- 一覧は1ページあたり10件表示し、ページネーション機能を設ける。
- 各TODOアイテムには、完了状態を変更するためのUI（例：チェックボックス）を表示する。
- 各TODOアイテムには、「編集」ボタンと「削除」ボタンを表示する。

#### 2.1.3. TODOの追加

- 新しいTODOアイテムを登録できる。
- 専用のTODO追加画面にて、以下の情報を入力する。
    - タイトル (必須)
    - 詳細な説明文 (必須)
    - 期日 (必須)
    - 優先度（必須）
- 追加時、完了状態は「未完了」として登録される。

#### 2.1.4. TODOの完了 (状態の更新)

- TODOアイテムの完了状態を「未完了」から「完了」へ変更できる。
- 一覧画面上のUI（例：チェックボックス）を操作することで状態を更新する。
- 完了したTODOを「未完了」に戻す機能は不要とする。

#### 2.1.5. TODOの編集

- 既存のTODOアイテムの内容を編集できる。
- 一覧画面の「編集」ボタンをクリックすると、専用のTODO編集画面に遷移する。
- TODO編集画面では、以下の情報を変更できる。
    - タイトル
    - 詳細な説明文
    - 期日
    - 優先度

#### 2.1.6. TODOの削除

- 既存のTODOアイテムを削除できる。
- 削除操作時には、確認ダイアログ（例：「本当に削除しますか？」）を表示する。
- 確認後、TODOアイテムをデータベースから物理削除する。

### 2.2. ユーザー認証機能

- ユーザーアカウントによる認証機能を設ける。
- 認証にはClerkを利用する。
- ユーザーごとにTODOデータを管理し、他のユーザーのデータにはアクセスできないようにする。

## 3. 画面仕様

### 3.1. TODO一覧画面

- 機能:
    - TODOリストの表示（ソート機能、ページネーション含む）
    - TODOアイテムの完了操作
    - TODO追加画面への遷移ボタン
    - 各TODOアイテムの編集画面への遷移ボタン
    - 各TODOアイテムの削除ボタン
- エラー表示: 画面上部にメッセージとして表示する。
- ローディング表示: データ取得中などにローディングスピナーを表示する。

### 3.2. TODO追加画面

- 機能:
    - TODOのタイトル、詳細な説明文、期日の入力フォーム
    - 保存ボタン
    - キャンセルボタン（一覧画面に戻る）
- エラー表示: 入力不備や保存失敗時にダイアログで通知する。
- ローディング表示: 保存処理中などにローディングスピナーを表示する。

### 3.3. TODO編集画面

- 機能:
    - 既存TODOのタイトル、詳細な説明文、期日の編集フォーム（初期値として既存データが入力されている）
    - 更新ボタン
    - キャンセルボタン（一覧画面に戻る）
- エラー表示: 更新失敗時にダイアログで通知する。
- ローディング表示: 更新処理中などにローディングスピナーを表示する。

## 4. 非機能要件

### 4.1. ユーザビリティ

- 直感的でわかりやすいUIを提供する。
- 操作の軽快さを重視し、ストレスなく利用できるようにする。
- 見た目の美しさを考慮したデザインとする (shadcn/uiを活用)。

### 4.2. パフォーマンス

- 画面表示やデータ操作が迅速に行われること。
- 特に一覧表示やページネーションの切り替えがスムーズであること。
- ローディング表示を適切に行い、体感速度の低下を防ぐ。

### 4.3. エラーハンドリング

- 操作中にエラーが発生した場合、ユーザーに状況を適切に通知する。
    - 一覧表示に関するエラー: 画面上部にメッセージを表示。
    - 追加、編集、削除、完了操作に関するエラー: ダイアログで通知。
- エラー発生時も、可能な限りアプリケーションの動作が継続できるようにする。

### 4.4. セキュリティ

- Clerkを利用した適切な認証・認可を行い、ユーザーデータが保護されること。

## 5. 技術構成

- フロントエンド: Next.js v15 (App Router), React.js v19
- UIライブラリ: shadcn/ui
- 言語: TypeScript
- ORM: Prisma
- 認証: Clerk

## 6. 環境

- ホスティング: Vercel
- データベース: Supabase (PostgreSQL)

## 7. 今後の展望

- (ユーザーが初期に提示した内容に基づき、必要であれば詳細化)
    - 将来的には、より詳細なユーザー管理機能の拡張などが考えられる。

---
